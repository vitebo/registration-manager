# `~/contexts/`

Aqui, talvez eu tenha me perdido um pouco no conceito da Context API do React, mas tratei os contexts como os
[plugins do Vue](https://vuejs.org/guide/reusability/plugins.html). Isso porque não tive tempo para estudar mais sobre
design de software no React.

Plugins no Vue são basicamente funções que adicionam funcionalidades à aplicação.

Essa abordagem parece ter funcionado bem, com exceção do `registration-store-context`.

## `~/contexts/registration-store-context`

A ideia desse contexto é atuar como uma espécie de estado global da aplicação (referente a `Registration`). Ele garante
que o estado das `registrations` em memória esteja sempre atualizado com o gateway utilizado na aplicação.

No entanto, por algum motivo que ainda não consegui investigar a fundo, as funções do contexto estão sendo recriadas a
cada renderização. Apesar da versão final estar retornando as funções diretamente, durante o desenvolvimento, tentei
utilizar `useMemo` e `useCallback` para resolver esse problema, mas sem sucesso.

Embora não pareça muito complexo de resolver, o uso de qualquer biblioteca de gerenciamento de estado resolveria esse
problema, indicando que é mais uma questão de implementação da store do que de conceito.

Um efeito colateral disso é que no `useEffect` da página de `Dashboard`, onde busco as `registrations` para listar nas
colunas, não consigo colocar `fetchRegistrations` como dependência. Isso gera um aviso (warning) na aplicação, por isso
achei importante mencionar isso.